(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();AFRAME.registerComponent("highlight",{init:function(){var e=this.buttonEls=this.el.querySelectorAll(".menu-button");this.uiEl=document.querySelector("#ui"),this.senceEl=document.querySelector("#sence"),this.onClick=this.onClick.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.reset=this.reset.bind(this);for(var t=0;t<e.length;++t)e[t].addEventListener("mouseenter",this.onMouseEnter),e[t].addEventListener("mouseleave",this.onMouseLeave),e[t].addEventListener("click",this.onClick)},onClick:function(e){e.target.pause(),e.target.setAttribute("material","color","#046de7"),this.el.is("clicked")?this.reset():this.el.addState("clicked"),e.target.object3D.scale.set(1.2,1.2,1.2),this.uiEl.object3D.visible=!1,this.videosphereEl=document.querySelector("#videosphere"),this.videoEl=this.videosphereEl.getAttribute("material").src,this.videoEl&&(this.senceEl.removeAttribute("environment"),this.videosphereEl.object3D.visible=!0,this.videoEl.play())},onMouseEnter:function(e){var t=this.buttonEls;e.target.setAttribute("material","color","#046de7");for(var s=0;s<t.length;++s)e.target!==t[s]&&t[s].setAttribute("material","color","white")},onMouseLeave:function(e){this.el.is("clicked")||e.target.setAttribute("material","color","white")},reset:function(){for(var e=this.buttonEls,t=0;t<e.length;++t)this.el.removeState("clicked"),e[t].play(),e[t].emit("mouseleave")}});AFRAME.registerComponent("player-click",{init:function(){this.controlBarEl=document.querySelector("#controlBar"),this.onClick=this.onClick.bind(this)},play:function(){this.el.addEventListener("click",this.onClick)},pause:function(){this.el.removeEventListener("click",this.onClick)},onClick:function(e){this.el.object3D.visible&&(this.controlBarEl.object3D.visible?this.controlBarEl.object3D.visible=!1:this.controlBarEl.object3D.visible=!0)}});AFRAME.registerComponent("play-on-click",{init:function(){this.controlBarEl=document.querySelector("#controlBar"),this.onClick=this.onClick.bind(this)},play:function(){this.el.addEventListener("click",this.onClick)},pause:function(){this.el.removeEventListener("click",this.onClick)},onClick:function(e){this.videosphereEl=document.querySelector("#videosphere"),this.videoEl=this.videosphereEl.getAttribute("material").src,this.videoEl&&(this.videoEl.paused?this.videoEl.play():this.videoEl.pause())}});
